# å¤ã„TOPç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹å•é¡Œã®è§£æ±ºæ–¹æ³•

## å•é¡Œ
æ–°ã—ã„4ã‚¿ãƒ–UIã‚’å®Ÿè£…ã—ã¾ã—ãŸãŒã€ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã™ã‚‹ã¨å¤ã„TOPç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã€‚

## åŸå› 
**Flutterã®ãƒ“ãƒ«ãƒ‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒå¤ã„ã‚³ãƒ¼ãƒ‰ã‚’ä¿æŒã—ã¦ã„ã‚‹ãŸã‚**

ã‚³ãƒ¼ãƒ‰ã¯æ­£ã—ãä¿®æ­£ã•ã‚Œã¦ã„ã¾ã™ãŒã€ãƒ“ãƒ«ãƒ‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒæ›´æ–°ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚

## è§£æ±ºæ–¹æ³•

### âœ… æ–¹æ³•1: å®Œå…¨ã‚¯ãƒªãƒ¼ãƒ³ãƒ“ãƒ«ãƒ‰ï¼ˆæ¨å¥¨ï¼‰

```bash
cd /home/user/webapp/wanmap_v2

# ã‚¹ãƒ†ãƒƒãƒ—1: å®Œå…¨ã‚¯ãƒªãƒ¼ãƒ³
flutter clean

# ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ“ãƒ«ãƒ‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å‰Šé™¤
rm -rf .dart_tool/
rm -rf build/

# ã‚¹ãƒ†ãƒƒãƒ—3: ä¾å­˜é–¢ä¿‚ã‚’å†å–å¾—
flutter pub get

# ã‚¹ãƒ†ãƒƒãƒ—4: ã‚¢ãƒ—ãƒªã‚’å†ãƒ“ãƒ«ãƒ‰
flutter run
```

### âœ… æ–¹æ³•2: Hot Restartï¼ˆã‚ˆã‚Šæ—©ã„ï¼‰

ã‚¢ãƒ—ãƒªãŒæ—¢ã«èµ·å‹•ã—ã¦ã„ã‚‹å ´åˆï¼š

```bash
# ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œ
# 1. 'R' ã‚­ãƒ¼ã‚’æŠ¼ã™ï¼ˆå¤§æ–‡å­—ã®Rï¼‰
# ã¾ãŸã¯
# 2. ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰
flutter run --hot
```

### âœ… æ–¹æ³•3: Android Studioã‹ã‚‰

1. **Build** ãƒ¡ãƒ‹ãƒ¥ãƒ¼ â†’ **Flutter** â†’ **Clean**
2. **File** ãƒ¡ãƒ‹ãƒ¥ãƒ¼ â†’ **Invalidate Caches / Restart**
3. ã‚¢ãƒ—ãƒªã‚’å†å®Ÿè¡Œ

### âœ… æ–¹æ³•4: ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼/ãƒ‡ãƒã‚¤ã‚¹ã‹ã‚‰å®Œå…¨å‰Šé™¤

```bash
# ã‚¢ãƒ—ãƒªã‚’ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
adb uninstall com.example.wanmap_v2

# å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
flutter run
```

---

## ç¢ºèªæ–¹æ³•

ã‚¢ãƒ—ãƒªèµ·å‹•å¾Œã€ä»¥ä¸‹ã‚’ç¢ºèªï¼š

### âœ… æ­£ã—ã„UIï¼ˆæ–°ã—ã„4ã‚¿ãƒ–UIï¼‰:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          BottomNavigationBar            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ      â”‚  ğŸ—ºï¸     â”‚  ğŸš¶      â”‚  ğŸ‘¤      â”‚
â”‚ ãƒ›ãƒ¼ãƒ   â”‚ ãƒãƒƒãƒ—  â”‚ æ•£æ­©è¨˜éŒ² â”‚ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- âœ… ä¸‹éƒ¨ã«4ã¤ã®ã‚¿ãƒ–ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- âœ… ã‚¿ãƒ–ã‚¢ã‚¤ã‚³ãƒ³: home, map, directions_walk, person
- âœ… ã‚¿ãƒ–ãƒ©ãƒ™ãƒ«: ãƒ›ãƒ¼ãƒ , ãƒãƒƒãƒ—, æ•£æ­©è¨˜éŒ², ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«

### âŒ å¤ã„UIï¼ˆé–“é•ã„ï¼‰:
- âŒ 5ã¤ã®ã‚¿ãƒ–ãŒã‚ã‚‹
- âŒ ãƒãƒƒã‚¸ã‚¿ãƒ–ã¨çµ±è¨ˆã‚¿ãƒ–ãŒåˆ¥ã€…ã«ã‚ã‚‹
- âŒ å¤ã„ãƒ›ãƒ¼ãƒ ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### å•é¡Œ: ã¾ã å¤ã„ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹

**åŸå› 1: ãƒ“ãƒ«ãƒ‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒæ®‹ã£ã¦ã„ã‚‹**

```bash
# ã•ã‚‰ã«å¾¹åº•çš„ã«ã‚¯ãƒªãƒ¼ãƒ³
cd /home/user/webapp/wanmap_v2
flutter clean
rm -rf .dart_tool/
rm -rf build/
rm -rf android/.gradle/
rm -rf ios/Pods/
rm -rf .flutter-plugins
rm -rf .flutter-plugins-dependencies
flutter pub get
flutter run
```

**åŸå› 2: è¤‡æ•°ã®ãƒ“ãƒ«ãƒ‰ãŒæ··åœ¨**

```bash
# ã™ã¹ã¦ã®Flutterãƒ—ãƒ­ã‚»ã‚¹ã‚’åœæ­¢
pkill -f flutter
pkill -f dart

# å†èµ·å‹•
flutter run
```

**åŸå› 3: ãƒ‡ãƒã‚¤ã‚¹/ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥**

```bash
# ãƒ‡ãƒã‚¤ã‚¹ã‚’å†èµ·å‹•
adb reboot

# ã¾ãŸã¯
# ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’å®Œå…¨ã«é–‰ã˜ã¦å†èµ·å‹•
```

### å•é¡Œ: ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹

**åŸå› : ä¾å­˜é–¢ä¿‚ã®å•é¡Œ**

```bash
cd /home/user/webapp/wanmap_v2
flutter clean
flutter pub get
flutter pub upgrade
flutter run
```

### å•é¡Œ: ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚¨ãƒ©ãƒ¼

**ç¢ºèªäº‹é …:**

```bash
# MainScreenãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ç¢ºèª
ls -la lib/screens/main/main_screen.dart

# ProfileTabãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ç¢ºèª
ls -la lib/screens/main/tabs/profile_tab.dart

# user_providerãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ç¢ºèª
ls -la lib/providers/user_provider.dart
```

ã™ã¹ã¦å­˜åœ¨ã—ã¦ã„ã‚Œã°ï¼š

```bash
flutter clean
flutter pub get
flutter run
```

---

## ã‚³ãƒ¼ãƒ‰ç¢ºèª

### main.dartãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª:

```bash
cd /home/user/webapp/wanmap_v2
grep "MainScreen" lib/main.dart
```

**æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›:**
```
import 'screens/main/main_screen.dart';
        MaterialPageRoute(builder: (_) => const MainScreen()),
```

### MainScreenãŒ4ã‚¿ãƒ–ã«ãªã£ã¦ã„ã‚‹ã‹ç¢ºèª:

```bash
grep -A 5 "_pages = \[" lib/screens/main/main_screen.dart
```

**æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›:**
```
  static const List<Widget> _pages = [
    HomeTab(),
    MapTab(),
    RecordsTab(),
    ProfileTab(),
  ];
```

---

## æœ€çµ‚ç¢ºèª

### ã™ã¹ã¦æ­£ã—ã„å ´åˆã®æ‰‹é †:

```bash
# 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd /home/user/webapp/wanmap_v2

# 2. å®Œå…¨ã‚¯ãƒªãƒ¼ãƒ³
flutter clean
rm -rf .dart_tool/ build/

# 3. ä¾å­˜é–¢ä¿‚å–å¾—
flutter pub get

# 4. ãƒ‡ãƒã‚¤ã‚¹æ¥ç¶šç¢ºèª
flutter devices

# 5. ã‚¢ãƒ—ãƒªèµ·å‹•
flutter run

# 6. ã‚¢ãƒ—ãƒªèµ·å‹•ä¸­ã«ãƒ›ãƒƒãƒˆãƒªã‚¹ã‚¿ãƒ¼ãƒˆ
# ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ 'R' ã‚­ãƒ¼ï¼ˆå¤§æ–‡å­—ï¼‰ã‚’æŠ¼ã™
```

---

## ãã‚Œã§ã‚‚è§£æ±ºã—ãªã„å ´åˆ

### æœ€çµ‚æ‰‹æ®µ: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã‚’å†ã‚¯ãƒ­ãƒ¼ãƒ³

```bash
# ç¾åœ¨ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
cd /home/user/webapp
cp -r wanmap_v2 wanmap_v2_backup_$(date +%Y%m%d_%H%M%S)

# Gitã‹ã‚‰æœ€æ–°ã‚’ãƒ—ãƒ«
cd wanmap_v2
git pull origin main

# å®Œå…¨ã‚¯ãƒªãƒ¼ãƒ³ãƒ“ãƒ«ãƒ‰
flutter clean
rm -rf .dart_tool/ build/
flutter pub get
flutter run
```

---

## ã‚µãƒãƒ¼ãƒˆ

### ãƒ‡ãƒãƒƒã‚°æƒ…å ±ã®å–å¾—:

```bash
# Flutterç’°å¢ƒæƒ…å ±
flutter doctor -v

# ãƒ“ãƒ«ãƒ‰ãƒ­ã‚°
flutter run --verbose 2>&1 | tee build_log.txt

# ãƒ“ãƒ«ãƒ‰ãƒ­ã‚°ã‚’ç¢ºèª
cat build_log.txt | grep -i "error"
```

ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã”å ±å‘Šãã ã•ã„ã€‚

---

**ä½œæˆæ—¥:** 2025å¹´11æœˆ23æ—¥  
**å•é¡Œ:** å¤ã„TOPç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹  
**è§£æ±ºç­–:** å®Œå…¨ã‚¯ãƒªãƒ¼ãƒ³ãƒ“ãƒ«ãƒ‰
