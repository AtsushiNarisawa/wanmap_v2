# WanWalk エリアID完全リファレンス

## 📊 データベース構造の概要

WanWalkアプリでは、以下のようにエリアが管理されています：

1. **箱根エリア**: 親エリア(a1111111...) + 5つのサブエリア(b1111111... 〜 b5555555...)
2. **その他のエリア**: 横浜(a2222222...)、鎌倉(a3333333...)
3. **将来的に追加予定**: 伊豆、那須、軽井沢、富士山周辺など

---

## 🗾 エリアID一覧表

### 📍 箱根エリア（親エリア + 5サブエリア）

| エリア名 | area_id | 命名規則 | 説明 | アクセス |
|---------|---------|----------|------|---------|
| **箱根（親エリア）** | `a1111111-1111-1111-1111-111111111111` | - | 箱根全体を表す親エリア（**新規ルート作成時は使用非推奨**） | - |
| 箱根・湯本塔ノ沢 | `b1111111-1111-1111-1111-111111111111` | 箱根湯本・塔ノ沢 | 箱根の玄関口。温泉街。 | 国道1号線（小田原方面） |
| 箱根・宮ノ下小涌谷 | `b2222222-2222-2222-2222-222222222222` | 宮ノ下・小涌谷 | 彫刻の森美術館、歴史的ホテル。 | 箱根新道 → 県道75号 |
| 箱根・強羅早雲山 | `b3333333-3333-3333-3333-333333333333` | 強羅・早雲山 | 強羅公園、箱根美術館、眺望スポット。 | 箱根新道 → 県道734号 |
| **箱根・仙石原大涌谷** | **`b4444444-4444-4444-4444-444444444444`** | **仙石原・大涌谷** | **DogHub箱根の所在地**。すすき草原、広々とした散策路。 | 御殿場IC → 国道138号 |
| 箱根・芦ノ湖元箱根 | `b5555555-5555-5555-5555-555555555555` | 芦ノ湖・元箱根 | 芦ノ湖畔、箱根神社、海賊船乗り場。 | 三島IC → 国道1号線 |

**⚠️ 重要**: 新規ルート作成時は、必ず具体的なサブエリア（b1111111... 〜 b5555555...）を指定してください。親エリア（a1111111...）は互換性維持のため残されていますが、新規ルートでは使用しないでください。

---

### 📍 その他のエリア

| エリア名 | area_id | 都道府県 | 説明 |
|---------|---------|---------|------|
| 横浜 | `a2222222-2222-2222-2222-222222222222` | 神奈川県 | 横浜市全体。港町、みなとみらい、中華街など。 |
| 鎌倉 | `a3333333-3333-3333-3333-333333333333` | 神奈川県 | 鎌倉市全体。古都、寺社仏閣、海辺の散歩道。 |

---

### 📍 将来追加予定のエリア

以下のエリアは、`lib/models/area_info.dart` にハードコードされていますが、**データベースには未登録の可能性があります**：

| エリア名 | area_id | 都道府県 | 状態 |
|---------|---------|---------|------|
| 伊豆 | ⚠️ **要確認** | 静岡県 | データベースで確認が必要 |
| 那須 | ⚠️ **要確認** | 栃木県 | データベースで確認が必要 |
| 軽井沢 | ⚠️ **要確認** | 長野県 | データベースで確認が必要 |
| 富士山周辺 | ⚠️ **要確認** | 山梨県 | データベースで確認が必要 |

**確認方法**: Supabase SQL Editorで以下のクエリを実行してください：

```sql
SELECT id, name, prefecture, description
FROM areas
ORDER BY name;
```

---

## 📋 ルート作成時のエリア選択ガイド

### ✅ 推奨される選択

| 場所 | 選択すべきエリア | area_id |
|------|----------------|---------|
| DogHub箱根周辺 | **箱根・仙石原大涌谷** | b4444444-4444-4444-4444-444444444444 |
| 芦ノ湖畔 | 箱根・芦ノ湖元箱根 | b5555555-5555-5555-5555-555555555555 |
| 箱根湯本温泉街 | 箱根・湯本塔ノ沢 | b1111111-1111-1111-1111-111111111111 |
| 強羅公園周辺 | 箱根・強羅早雲山 | b3333333-3333-3333-3333-333333333333 |
| 彫刻の森美術館周辺 | 箱根・宮ノ下小涌谷 | b2222222-2222-2222-2222-222222222222 |
| 横浜市内 | 横浜 | a2222222-2222-2222-2222-222222222222 |
| 鎌倉市内 | 鎌倉 | a3333333-3333-3333-3333-333333333333 |

### ❌ 避けるべき選択

| 選択 | 理由 | 代わりに |
|------|------|---------|
| 箱根（親エリア） | 互換性維持のため残されているが、新規ルートでは非推奨 | 具体的なサブエリアを選択 |
| 存在しないエリアID | データベースに登録されていない | 事前にSupabaseで確認 |

---

## 🔧 CSV/SQLツールでの使用方法

### CSVファイルのエリア列

**正しい記入例:**
```csv
ルート名,エリア,...
仙石原すすき草原周遊ルート,箱根・仙石原大涌谷,...
芦ノ湖湖畔散歩コース,箱根・芦ノ湖元箱根,...
山下公園海辺散歩,横浜,...
```

**誤った記入例:**
```csv
ルート名,エリア,...
仙石原すすき草原周遊ルート,箱根,...  ← ❌ サブエリアを明示すべき
```

### csv_to_sql.py のAREA_MAP

```python
AREA_MAP = {
    # 箱根エリア（親エリア + サブエリア）
    '箱根': 'a1111111-1111-1111-1111-111111111111',  # 親エリア（使用非推奨）
    '箱根・湯本塔ノ沢': 'b1111111-1111-1111-1111-111111111111',
    '箱根・宮ノ下小涌谷': 'b2222222-2222-2222-2222-222222222222',
    '箱根・強羅早雲山': 'b3333333-3333-3333-3333-333333333333',
    '箱根・仙石原大涌谷': 'b4444444-4444-4444-4444-444444444444',  # DogHub
    '箱根・芦ノ湖元箱根': 'b5555555-5555-5555-5555-555555555555',
    
    # その他のエリア
    '横浜': 'a2222222-2222-2222-2222-222222222222',
    '鎌倉': 'a3333333-3333-3333-3333-333333333333',
}
```

---

## 📚 関連ドキュメント

- **箱根エリア分割の詳細**: `docs/HAKONE_AREA_MIGRATION.md`
- **CSV管理ガイド**: `docs/ROUTE_CSV_GUIDE.md`
- **データベーススキーマ**: `supabase_migrations/`

---

## 🔍 エリアID確認SQL

```sql
-- 全エリアを確認
SELECT 
  id,
  name,
  prefecture,
  description,
  created_at
FROM areas
ORDER BY 
  CASE 
    WHEN name LIKE '箱根%' THEN 1
    ELSE 2
  END,
  name;

-- 箱根サブエリアのみ確認
SELECT 
  id,
  name,
  prefecture
FROM areas
WHERE name LIKE '箱根・%'
ORDER BY name;

-- エリアごとのルート数を確認
SELECT 
  a.name AS エリア名,
  COUNT(r.id) AS ルート数
FROM areas a
LEFT JOIN official_routes r ON r.area_id = a.id
GROUP BY a.id, a.name
ORDER BY a.name;
```

---

**最終更新日**: 2024-12-22  
**作成者**: WanWalk開発チーム
